# Licensed under the Apache License v. 2 (the "License")
# You may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     https://www.apache.org/licenses/LICENSE-2.0.html
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#
# Copyright (C) 2025-2025 xqyjlj<xqyjlj@126.com>
#
# @author      xqyjlj
# @file        UART-sci2_v1_1_Cube_Modes.yml.target
#
# Change Logs:
# Date           Author       Notes
# ------------   ----------   -----------------------------------------------
# 2025-11-10     xqyjlj       initial version
#

name: UART
parameters:
  uart_address_t:
    - condition: configs.${IP_INSTANCE}.uart_wake_up_methode_t == 'addressmark'
      content:
        type: integer
        default: 0
        max: 15
        min: 0
        display:
          zh-cn: Wake-Up Address
          en: Wake-Up Address
        description:
          zh-cn: Wake-Up Address
          en: Wake-Up Address
        visible: true
        readonly: false
    - condition: default
      content:
        type: integer
        default: 0
        max: 0
        min: 0
        display:
          zh-cn: Wake-Up Address
          en: Wake-Up Address
        description:
          zh-cn: Wake-Up Address
          en: Wake-Up Address
        visible: false
        readonly: false
  uart_baud_rate_t:
    - condition: configs.${IP_INSTANCE}.uart_virtual_mode_t == 'ir_da'
      content:
        type: integer
        default: 115200
        max: 115200
        min: 110
        display:
          zh-cn: Baud Rate
          en: Baud Rate
        description:
          zh-cn: Baud Rate
          en: Baud Rate
        visible: true
        readonly: false
    - condition: default
      content:
        type: integer
        default: 115200
        max: 5250000
        min: 110
        display:
          zh-cn: Baud Rate
          en: Baud Rate
        description:
          zh-cn: Baud Rate
          en: Baud Rate
        visible: true
        readonly: false
  uart_break_detect_length_t:
    type: enum
    values:
      10_b:
        comment:
          zh-cn: 10 Bits
          en: 10 Bits
      11_b:
        comment:
          zh-cn: 11 Bits
          en: 11 Bits
    default: 10_b
    display:
      zh-cn: Break Detect Length
      en: Break Detect Length
    description:
      zh-cn: Break Detect Length
      en: Break Detect Length
    visible: true
    readonly: false
  uart_ir_da_mode_t:
    type: enum
    values:
      lowpower:
        comment:
          zh-cn: Low Power
          en: Low Power
      normal:
        comment:
          zh-cn: Normal Power
          en: Normal Power
    default: normal
    display:
      zh-cn: IrDa Mode
      en: IrDa Mode
    description:
      zh-cn: IrDa Mode
      en: IrDa Mode
    visible: true
    readonly: false
  uart_mode_t:
    type: enum
    values:
      tx_rx:
        comment:
          zh-cn: Receive and Transmit
          en: Receive and Transmit
      rx:
        comment:
          zh-cn: Receive Only
          en: Receive Only
      tx:
        comment:
          zh-cn: Transmit Only
          en: Transmit Only
    default: tx_rx
    display:
      zh-cn: Data Direction
      en: Data Direction
    description:
      zh-cn: Data Direction
      en: Data Direction
    visible: true
    readonly: false
  uart_over_sampling_t:
    - condition: (configs.${IP_INSTANCE}.uart_virtual_mode_t == 'lin') or (configs.${IP_INSTANCE}.uart_virtual_mode_t ==
        'ir_da')
      content:
        type: enum
        values:
          'null':
            comment:
              zh-cn: 'null'
              en: 'null'
        default: 'null'
        display:
          zh-cn: Over Sampling
          en: Over Sampling
        description:
          zh-cn: Over Sampling
          en: Over Sampling
        visible: true
        readonly: false
    - condition: default
      content:
        type: enum
        values:
          uart_oversampling_16:
            comment:
              zh-cn: 16 Samples
              en: 16 Samples
        default: uart_oversampling_16
        display:
          zh-cn: Over Sampling
          en: Over Sampling
        description:
          zh-cn: Over Sampling
          en: Over Sampling
        visible: true
        readonly: false
  uart_parity_t:
    type: enum
    values:
      none:
        comment:
          zh-cn: None
          en: None
      even:
        comment:
          zh-cn: Even
          en: Even
      odd:
        comment:
          zh-cn: Odd
          en: Odd
    default: none
    display:
      zh-cn: Parity
      en: Parity
    description:
      zh-cn: Parity
      en: Parity
    visible: true
    readonly: false
  uart_prescaler_t:
    - condition: configs.${IP_INSTANCE}.uart_ir_da_mode_t == 'normal'
      content:
        type: integer
        default: 1
        max: 1
        min: 1
        display:
          zh-cn: Prescaler
          en: Prescaler
        description:
          zh-cn: Prescaler
          en: Prescaler
        visible: true
        readonly: false
    - condition: default
      content:
        type: integer
        default: 10
        max: 255
        min: 1
        display:
          zh-cn: Prescaler
          en: Prescaler
        description:
          zh-cn: Prescaler
          en: Prescaler
        visible: true
        readonly: false
  uart_stop_bits_t:
    type: enum
    values:
      '1':
        comment:
          zh-cn: '1'
          en: '1'
      '2':
        comment:
          zh-cn: '2'
          en: '2'
    default: '1'
    display:
      zh-cn: Stop Bits
      en: Stop Bits
    description:
      zh-cn: Stop Bits
      en: Stop Bits
    visible: true
    readonly: false
  uart_virtual_mode_t:
    type: enum
    values:
      asynchronous:
        comment:
          zh-cn: ''
          en: ''
      ir_da:
        comment:
          zh-cn: ''
          en: ''
      lin:
        comment:
          zh-cn: ''
          en: ''
    default: asynchronous
    display:
      zh-cn: ''
      en: ''
    description:
      zh-cn: ''
      en: ''
    visible: false
    readonly: false
  uart_wake_up_methode_t:
    type: enum
    values:
      idleline:
        comment:
          zh-cn: Idle Line
          en: Idle Line
      addressmark:
        comment:
          zh-cn: Address Mark
          en: Address Mark
    default: idleline
    display:
      zh-cn: Wake-Up Method
      en: Wake-Up Method
    description:
      zh-cn: Wake-Up Method
      en: Wake-Up Method
    visible: true
    readonly: false
  uart_word_length_t:
    - condition: configs.${IP_INSTANCE}.uart_virtual_mode_t == 'ir_da'
      content:
        type: enum
        values:
          8_b:
            comment:
              zh-cn: 8 Bits (including Parity)
              en: 8 Bits (including Parity)
          9_b:
            comment:
              zh-cn: 9 Bits (including Parity)
              en: 9 Bits (including Parity)
        default: 8_b
        display:
          zh-cn: Word Length
          en: Word Length
        description:
          zh-cn: Word Length
          en: Word Length
        visible: true
        readonly: false
    - condition: (configs.${IP_INSTANCE}.uart_ctrl_mode_t == 'lin')
      content:
        type: enum
        values:
          8_b:
            comment:
              zh-cn: 8 Bits (including Parity)
              en: 8 Bits (including Parity)
        default: 8_b
        display:
          zh-cn: Word Length
          en: Word Length
        description:
          zh-cn: Word Length
          en: Word Length
        visible: true
        readonly: false
    - condition: default
      content:
        type: enum
        values:
          8_b:
            comment:
              zh-cn: 8 Bits (including Parity)
              en: 8 Bits (including Parity)
          9_b:
            comment:
              zh-cn: 9 Bits (including Parity)
              en: 9 Bits (including Parity)
        default: 8_b
        display:
          zh-cn: Word Length
          en: Word Length
        description:
          zh-cn: Word Length
          en: Word Length
        visible: true
        readonly: false
  uart_ctrl_mode_t:
    type: enum
    values:
      disable:
        comment:
          zh-cn: Disable
          en: Disable
      asynchronous:
        comment:
          zh-cn: Asynchronous
          en: Asynchronous
        signals:
          ${IP_INSTANCE}:RX:
            mode: GPIO:InputFloatingAndPullUp
          ${IP_INSTANCE}:TX:
            mode: GPIO:AlternateFunctionPushPullUp
      half_duplex_single_wire_mode:
        comment:
          zh-cn: Single Wire (Half-Duplex)
          en: Single Wire (Half-Duplex)
        signals:
          ${IP_INSTANCE}:TX:
            mode: GPIO:AlternateFunctionPushPullUp
      multiprocessor_communication:
        comment:
          zh-cn: Multiprocessor Communication
          en: Multiprocessor Communication
        signals:
          ${IP_INSTANCE}:RX:
            mode: GPIO:InputFloatingAndPullUp
          ${IP_INSTANCE}:TX:
            mode: GPIO:AlternateFunctionPushPullUp
      ir_da:
        comment:
          zh-cn: IrDA
          en: IrDA
        signals:
          ${IP_INSTANCE}:RX:
            mode: GPIO:InputFloatingAndPullUp
          ${IP_INSTANCE}:TX:
            mode: GPIO:AlternateFunctionPushPullUp
      lin:
        comment:
          zh-cn: LIN
          en: LIN
        signals:
          ${IP_INSTANCE}:RX:
            mode: GPIO:InputFloatingAndPullUp
          ${IP_INSTANCE}:TX:
            mode: GPIO:AlternateFunctionPushPullUp
    default: disable
    display:
      zh-cn: MODE
      en: MODE
    description:
      zh-cn: MODE
      en: MODE
    visible: true
    readonly: false
containers:
  modes:
    refParameters:
      uart_ctrl_mode_t: {}
  configurations:
    - condition: configs.${IP_INSTANCE}.uart_ctrl_mode_t == 'asynchronous'
      content:
        refParameters:
          uart_baud_rate_t: {}
          uart_virtual_mode_t:
            values:
              - asynchronous
            default: asynchronous
          uart_word_length_t: {}
          uart_parity_t: {}
          uart_stop_bits_t: {}
          uart_mode_t: {}
          uart_over_sampling_t: {}
    - condition: configs.${IP_INSTANCE}.uart_ctrl_mode_t == 'half_duplex_single_wire_mode'
      content:
        refParameters:
          uart_baud_rate_t: {}
          uart_virtual_mode_t:
            values:
              - asynchronous
            default: asynchronous
          uart_word_length_t: {}
          uart_parity_t: {}
          uart_stop_bits_t: {}
          uart_mode_t: {}
          uart_over_sampling_t: {}
    - condition: configs.${IP_INSTANCE}.uart_ctrl_mode_t == 'multiprocessor_communication'
      content:
        refParameters:
          uart_baud_rate_t: {}
          uart_virtual_mode_t:
            values:
              - asynchronous
            default: asynchronous
          uart_word_length_t: {}
          uart_parity_t: {}
          uart_stop_bits_t: {}
          uart_mode_t: {}
          uart_over_sampling_t: {}
          uart_wake_up_methode_t: {}
          uart_address_t: {}
    - condition: configs.${IP_INSTANCE}.uart_ctrl_mode_t == 'ir_da'
      content:
        refParameters:
          uart_baud_rate_t: {}
          uart_virtual_mode_t:
            values:
              - ir_da
            default: ir_da
          uart_word_length_t: {}
          uart_parity_t: {}
          uart_mode_t: {}
          uart_ir_da_mode_t: {}
          uart_prescaler_t: {}
    - condition: configs.${IP_INSTANCE}.uart_ctrl_mode_t == 'lin'
      content:
        refParameters:
          uart_baud_rate_t: {}
          uart_virtual_mode_t:
            values:
              - asynchronous
            default: asynchronous
          uart_word_length_t: {}
          uart_parity_t: {}
          uart_stop_bits_t: {}
          uart_mode_t: {}
          uart_break_detect_length_t: {}
activated: (configs.${IP_INSTANCE}.uart_ctrl_mode_t != 'disable')
