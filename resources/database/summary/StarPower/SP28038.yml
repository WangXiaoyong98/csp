name: SP28038
clockTree: SP28038
core: ARM Cortex-M4
frequency: 140
io: 100
series: SP28038
line: SP28038
vendor: StarPower
vendorUrl:
  en: https://www.powersemi.cc/EN/
  zh-cn: https://www.powersemi.cc/
documents:
  datasheet:
    SP28038数据手册:
      url:
        en: 
        zh-cn: 
      type: pdf
      size: 0MB
      version: "1.0"
hals: [csp_hal_sp28038]
hasPowerPad: false
illustrate:
  en: |
    The **SP28038** series MCU is based on the **32-bit Arm® Cortex®-M4 core**,
    with a maximum operating frequency of **140 MHz** and built-in **FPU (Floating Point Unit)**
    for efficient arithmetic operations.

    ### Key Features
    - **High-performance core**: 32-bit Arm® Cortex®-M4, up to 140 MHz
    - **Hardware acceleration**: Supports **FPU** for floating-point calculations
    - **Enhanced peripherals**:
      - **EMMC controller** for external memory expansion
      - **MCAN** can be used simultaneously
    - **On-chip resources**: Integrated memory, timers, ADC/DAC
    - **System advantages**: Low power consumption, large capacity, portability,
      and fast Flash erase/program speed

    ### Certifications
    - **IEC 61508 SIL2** functional safety certified (China)
    - Meets **industrial-grade reliability standards**

    ### Application Scenarios
    - Model aircraft
    - Handheld gimbals
    - Barcode scanners
    - Alarms and smart locks
    - Electronic scales
    - Industrial and IoT devices requiring performance and reliability

    ---

    With its **high performance and reliability**, the SP28038 series MCU
    is an ideal choice for industrial control, consumer electronics, and IoT applications.

  zh-cn: |
    **SP28038** 系列 MCU 基于 **32 位 Arm® Cortex®-M4 内核**，最高工作主频可达 **140 MHz**，并内置 **FPU 浮点运算单元**，在性能与能效之间实现良好平衡。

    ### 主要特性
    - **高性能内核**：32 位 Arm® Cortex®-M4，主频 140 MHz
    - **硬件加速**：支持 **FPU 浮点运算单元**
    - **增强型外设**：
      - **EPWM 控制器**，用于PWM输出
      - **EMMC 控制器**，便于外部存储扩展
      - ** CAN 接口 ** 可同时使用
    - **片上资源丰富**：集成存储器、定时器、ADC/DAC
    - **优秀的系统特性**：功耗低、容量大、可移植性好、Flash 擦除/编程速度快

    ### 认证与标准
    - 已通过 **中国 IEC 61508 SIL2 功能安全认证**
    - 符合 **工业级高可靠性标准**

    ### 典型应用领域
    - 航模飞机
    - 手持云台
    - 扫码枪
    - 报警器、密码锁
    - 电子秤
    - 其他工业与消费类应用

    ---

    凭借其 **高性能与高可靠性**，**SP28038 系列 MCU** 是工业控制、消费电子和物联网应用的理想选择。
introduction:
  en: "A mainstream Arm Cortex-M4 value-line MCU featuring a 140 MHz CPU and 256 KB Flash"
  zh-cn: 具有 256 KB Flash 和 140MHz CPU 的主流 Arm Cortex-M4 超值系列 MCU
modules:
  peripherals:
    CPU:
      children:
        Cortex-M4: {}
        NVIC: {}
    System:
      children:
        SYS:
          define: sp28038_sys
        DMA: {}
        XBAR: {}
        GPIO:
          define: sp28038_gpio
        WWDT: 
          define: sp28038_wwdt
        RCM:
          define: sp28038_rcm
    Analog:
      children:
        ADCC0: {}
        ADCC1: {}
        ADCC2: {}
        ADCC3: {}
        ADCC4: {}
        ADCC5: {}
        ADCC6: {}
        ADCC8: {}
        ADCC9: {}
        ADCC10: {}
        ADCC11: {}
        ADCC12: {}
        ADCC13: {}
        ADCC14: {}
    Timers:
      children:
        RTC: {}
        TMR1: {}
        TMR2: {}
        TMR3: {}
        TMR4: {}
        TMR5: {}
        TMR6: {}
        TMR7: {}
        TMR8: {}
    Connectivity:
      children:
        CAN: {}
        EMMC: {}
        I2C1: {}
        I2C2: {}
        SDIO: {}
        SPI1: {}
        SPI2: {}
        SPI3: {}
        USART1:
          define: sp28038_usart
        USART2:
          define: sp28038_usart
        USART3:
          define: sp28038_usart
        UART4:
          define: sp28038_uart
        UART5:
          define: sp28038_uart
        USBD: {}
    Multimedia:
      children:
        I2S2: {}
        I2S3: {}
    Computing:
      children:
        CRC:
          define: sp28038_crc
  middlewares: {}
package: LQFP100
url:
  en: https://global.geehy.com/product/fifth/APM32F103
  zh-cn: https://geehy.com/product/fifth/APM32F103
builders:
  XMake:
    v2.8.1: [gcc-arm-none-eabi]
  CMake:
    v3.7: [gcc-arm-none-eabi]
  MDK-Arm:
    v5.27: [default]
linker:
  defaultHeapSize: "0x200"
  defaultStackSize: "0x400"
pins:
  PA22:
    position: 1
    type: I/O
    signals:
      - GPIO0
      - EPWM1_A
      - LPTIM3
  PB0:
    position: 2
    type: I/O
    signals:
      - GPIO1
      - EPWM1_B
      - LPTIM2
      - OUTPUTXBAR1
  PB1:
    position: 3
    type: I/O
    signals:
      - GPIO2
      - EPWM2_A
      - LPTIM1
  PA23:
    position: 4
    type: I/O
    signals:
      - GPIO3
      - EPWM2_B
      - SPI1_SIN
      - SPI1_SOUT
  PB10:
    position: 5
    type: I/O
    signals:
      - GPIO4
      - EPWM3_A
      - LPTIM0
  PB11:
    position: 6
    type: I/O
    signals:
      - GPIO5
      - EPWM3_B
  VDD0:
    position: 7
    type: I/O
    signals:
      - GPIO6
      - EPWM4_A
      - SYNCOUT
      - OUTPUTXBAR2
  VSS50_ANA1:
    position: 8
    type: I/O
    signals:
      - GPIO7
      - EPWM4_B
      - SCI1_RX
  GND1:
    position: 9
    type: I/O
    signals:
      - GPIO8
      - EPWM5_A
      - ADCSOCAO
  XRS:
    position: 10
    type: I/O
    signals:
      - GPIO9
      - EPWM5_B
      - SCI1_TX
  PB13:
    position: 11
    type: I/O
    signals:
      - GPIO10
      - EPWM6_A
      - ADCSOCBO
      - CLKOUT
  ADCINA7:
    position: 12
    type: I/O
    signals:
      - GPIO11
      - EPWM6_B
      - SCI2_RX
  PB14:
    position: 13
    type: I/O
    signals:
      - GPIO12
      - SCI2_TX
      - SPI2_SIN
      - OUTPUTXBAR3
      - SPI2_SOUT
  PB15:
    position: 14
    type: I/O
    signals:
      - GPIO13
      - MCAN1_CLK
      - MCAN2_TX0
      - SPI2_SOUT
      - OUTPUTXBAR4
      - SPI2_SIN
  PB16:
    position: 15
    type: I/O
    signals:
      - GPIO14
      - SCI3_TX
      - SPI2_CLK
      - OUTPUTXBAR5
  PB17:
    position: 16
    type: I/O
    signals:
      - GPIO15
      - SCI3_RX
      - SPI2_CS0
      - OUTPUTXBAR6
      - SPI1_CS0
  PB18:
    position: 17
    type: I/O
    signals:
      - GPIO16
      - SPI1_SIN
      - SPI1_SOUT
      - OUTPUTXBAR7
      - SCI1_RX
  PB19:
    position: 18
    type: I/O
    signals:
      - GPIO17
      - SPI1_SOUT
      - SPI1_SIN
      - OUTPUTXBAR8
      - SCI1_TX
  PB20:
    position: 19
    type: I/O
    signals:
      - GPIO18
      - SPI1_CLK
      - MCAN1_CLK
      - XCLKOUT
      - SYNCOUT
  ADC_VREFP:
    position: 20
    type: I/O
    signals:
      - GPIO19
      - XCLKIN
      - SPI1_CS0
      - SCI4_RX
  VDDA:
    position: 21
    type: I/O
    signals:
      - GPIO20
      - EQEP1A
      - OUTPUTXBAR1
  VSSA:
    position: 22
    type: I/O
    signals:
      - GPIO21
      - EQEP1B
      - COMP1OUT2
      - OUTPUTXBAR2
  ADC_VREFN:
    position: 23
    type: I/O
    signals:
      - GPIO22
      - EQEP1S
      - SCI5_TX
      - SPI1_CS1
  PB27:
    position: 24
    type: I/O
    signals:
      - GPIO23
      - EQEP1I
      - SCI5_RX
      - SPI1_CS2
  PB26:
    position: 25
    type: I/O
    signals:
      - GPIO24
      - SPI2_SOUT
      - SPI2_SIN
      - EWM_IN
  PB25:
    position: 26
    type: I/O
    signals:
      - GPIO25
      - SPI2_SIN
      - SPI2_SOUT
      - SCI1_CTS
      - SCI4_CTS
  PB24:
    position: 27
    type: I/O
    signals:
      - GPIO26
      - SPI2_CLK
      - SCI1_RTS
      - SCI4_RTS
  PB23:
    position: 28
    type: I/O
    signals:
      - GPIO27
      - SPI2_CS0
      - I2C1_DAT
  PB22:
    position: 29
    type: I/O
    signals:
      - GPIO28
      - SCI6_RX
      - I2C2_DAT
      - OUTPUTXBAR5
  PB21:
    position: 30
    type: I/O
    signals:
      - GPIO29
      - SCI6_TX
      - I2C2_CLK
      - OUTPUTXBAR4
      - SPI4_SIN
  ADCINB7:
    position: 31
    type: I/O
    signals:
      - GPIO30
      - MCAN1_RX
      - SD2_C4
      - SPI4_SOUT
  VREF0P8TEST:
    position: 32
    type: I/O
    signals:
      - GPIO31
      - MCAN1_TX0
      - SD2_D4
      - SPI4_CLK
  PA27:
    position: 33
    type: I/O
    signals:
      - GPIO32
      - I2C1_DAT
      - ADCSOCAO
      - OUTPUTXBAR5
      - SPI4_CS
  PA31:
    position: 34
    type: I/O
    signals:
      - GPIO33
      - I2C1_CLK
      - SYNCOUT
      - ADCSOCBO
      - OUTPUTXBAR6
      - SCI2_CTS
  PA30:
    position: 35
    type: I/O
    signals:
      - GPIO34
      - MCAN1_TX1
      - OUTPUTXBAR7
      - SCI2_RTS
  PA29:
    position: 36
    type: I/O
    signals:
      - TDI
      - GPIO35
      - SPI3_SOUT
      - SPI3_SIN
      - OUTPUTXBAR3
  GND2:
    position: 37
    type: I/O
    signals:
      - TMS 
      - GPIO36
      - SPI1_CS3
  VDDIO1:
    position: 38
    type: I/O
    signals:
      - TDO
      - GPIO37
      - SPI3_SIN
      - SPI3_SOUT
      - OUTPUTXBAR4
      - SYNCOUT
  PA26:
    position: 39
    type: I/O
    signals:
      - TCK
      - GPIO38
      - OUTPUTXBAR8
  PA9:
    position: 40
    type: I/O
    signals:
      - GPIO39
      - SPI3_CS0
      - SD2_C2
      - I2C1_CLK
      - EWM_OUT_b
  PA28:
    position: 41
    type: I/O
    signals:
      - GPIO40
      - EPWM7_A
      - SD2_D2
      - EQEP2S
      - SPI1_SIN
  CP_EXT_TEST:
    position: 42
    type: I/O
    signals:
      - GPIO41
      - EPWM7_B
      - SD2_C3
      - EQEP2I
      - SPI1_SOUT
  PA18:
    position: 43
    type: I/O
    signals:
      - GPIO42
      - COMP1OUT1
      - MCAN2_TX0
      - SD2_D3
      - OUTPUTXBAR1
      - SPI1_CLK
  PA17:
    position: 44
    type: I/O
    signals:
      - GPIO43
      - COMP1OUT2
      - MCAN2_RX
      - OUTPUTXBAR2
      - SPI1_CS0
  PA8:
    position: 45
    type: I/O
    signals:
      - GPIO44
      - SPI3_CLK
      - EQEP2B
      - SCI3_RTS
  PA25:
    position: 46
    type: I/O
    signals:
      - GPIO45
      - TRST
      - EQEP2A
      - SCI3_CTS
  PB12:
    position: 47
    type: I/O
    signals:
      - GPIO46
      - SD1_D1
      - ADCINA6
      - ADCINC14
      - MCAN2_TX1
  PA16:
    position: 48
    type: I/O
    modes:
      - GPIO47
      - MCAN2_CLK
      - ADCINA5
      - ADCINC13
  PA12:
    position: 49
    type: I/O
    signals:
      - GPIO48
      - ADCINA4
      - ADCINC12
      - COMP2A
  PB9:
    position: 50
    type: I/O
    signals:
      - GPIO49
      - SD1_D2
      - ADCINA3
      - ADCINC11
  FLASH_VPP:
    position: 51
    type: I/O
    signals:
      - GPIO50
      - ADCINA2
      - ADCINC10
      - COMP1A
  PA7:
    position: 52
    type: I/O
    signals:
      - GPIO51
      - SD1_C2
      - ADCINA1
      - ADCINC9
  PA6:
    position: 53
    type: I/O
    signals:
      - GPIO52
      - SD1_C3
      - ADCINA0
      - ADCINC8
  XOSC16M_OUT:
    position: 54
    type: I/O
    signals:
      - GPIO53
      - SD1_C3
      - ADCINB6
      - ADCINC6
  XOSC16M_IN:
    position: 55
    type: I/O
    signals:
      - GPIO54
      - SD1_D4
      - ADCINB5
      - ADCINC5
  VSS50_ANA2:
    position: 56
    type: I/O
    signals:
      - GPIO55
      - ADCINB4
      - ADCINC4
      - COMP2B
  GND3:
    position: 57
    type: I/O
    signals:
      - GPIO56
      - SD1_C4
      - ADCINB3
      - ADCINC3
  VDD1:
    position: 58
    type: I/O
    signals:
      - GPIO57
      - ADCINB2
      - ADCINC2
  PA19:
    position: 59
    type: I/O
    signals:
      - GPIO58
      - SD2_C1
      - ADCINB1
      - ADCINC1
  PB7:
    position: 60
    type: I/O
    signals:
      - GPIO59
      - SD2_D1
      - ADCINB0
      - ADCINC0
  VSS50_ANA3:
    position: 61
    type: I/O
    signals:
      - GPIO60
  PB6:
    position: 62
    type: I/O
    signals:
      - GPIO61
  PB5:
    position: 63
    type: I/O
    signals:
      - GPIO62
  PB3:
    position: 64
    type: I/O
    signals:
      - GPIO63
  PB4:
    position: 65
    type: I/O
    signals:
      - GPIO64
  VSS50_ANA4:
    position: 66
    type: I/O
    signals:
      - GPIO65
  VSS50_ANA5:
    position: 67
    type: I/O
    signals:
      - GPIO66
  MPW_EXT_TEST:
    position: 68
    type: I/O
    signals:
      - GPIO67
  PB30:
    position: 69
    type: I/O
    signals:
      - GPIO68
  PB29:
    position: 70
    type: I/O
    signals:
      - GPIO69
  PA11:
    position: 71
    type: I/O
    signals:
      - GPIO70
  PA5:
    position: 72
    type: I/O
    signals:
      - GPIO71
  PA4:
    position: 73
    type: I/O
    signals:
      - GPIO72
  PB8:
    position: 74
    type: I/O
    signals:
      - GPIO73
  PA10:
    position: 75
    type: I/O
    signals:
      - GPIO74
  PA3:
    position: 76
    type: I/O
    signals:
      - GPIO75
  PA2:
    position: 77
    type: I/O
    signals:
      - GPIO76
  PA1:
    position: 78
    type: I/O
    signals:
      - GPIO77
  PA0:
    position: 79
    type: I/O
    signals:
      - GPIO78
  VDD50_ANA:
    position: 80
    type: I/O
    signals:
      - GPIO79
  VDDIO2:
    position: 81
    type: I/O
    signals:
      - GPIO80
  GND4:
    position: 82
    type: I/O
    signals:
      - GPIO81
  VDD2:
    position: 83
    type: I/O
    signals:
      - GPIO82
  PB28:
    position: 84
    type: I/O
    signals:
      - GPIO83
  PB2:
    position: 85
    type: I/O
    signals:
      - GPIO84
  PA15:
    position: 86
    type: I/O
    signals:
      - GPIO85
  PA13:
    position: 87
    type: I/O
    signals:
      - GPIO86
  PA14:
    position: 88
    type: I/O
    signals:
      - GPIO87
  PA20:
    position: 89
    type: I/O
    signals:
      - GPIO88
  PA21:
    position: 90
    type: I/O
    signals:
      - GPIO89
  PA24:
    position: 91
    type: I/O
    signals:
      - GPIO90
