name: SP28038
clockTree: SP28038
core: ARM Cortex-M4
frequency: 140
io: 100
series: SP28038
line: SP28038
vendor: StarPower
vendorUrl:
  en: https://www.powersemi.cc/EN/
  zh-cn: https://www.powersemi.cc/
documents:
  datasheet:
    SP28038数据手册:
      url:
        en: 
        zh-cn: 
      type: pdf
      size: 0MB
      version: "1.0"
hals: [csp_hal_sp28038]
hasPowerPad: false
illustrate:
  en: |
    The **SP28038** series MCU is based on the **32-bit Arm® Cortex®-M4 core**,
    with a maximum operating frequency of **140 MHz** and built-in **FPU (Floating Point Unit)**
    for efficient arithmetic operations.

    ### Key Features
    - **High-performance core**: 32-bit Arm® Cortex®-M4, up to 140 MHz
    - **Hardware acceleration**: Supports **FPU** for floating-point calculations
    - **Enhanced peripherals**:
      - **EMMC controller** for external memory expansion
      - **MCAN** can be used simultaneously
    - **On-chip resources**: Integrated memory, timers, ADC/DAC
    - **System advantages**: Low power consumption, large capacity, portability,
      and fast Flash erase/program speed

    ### Certifications
    - **IEC 61508 SIL2** functional safety certified (China)
    - Meets **industrial-grade reliability standards**

    ### Application Scenarios
    - Model aircraft
    - Handheld gimbals
    - Barcode scanners
    - Alarms and smart locks
    - Electronic scales
    - Industrial and IoT devices requiring performance and reliability

    ---

    With its **high performance and reliability**, the SP28038 series MCU
    is an ideal choice for industrial control, consumer electronics, and IoT applications.

  zh-cn: |
    **SP28038** 系列 MCU 基于 **32 位 Arm® Cortex®-M4 内核**，最高工作主频可达 **140 MHz**，并内置 **FPU 浮点运算单元**，在性能与能效之间实现良好平衡。

    ### 主要特性
    - **高性能内核**：32 位 Arm® Cortex®-M4，主频 140 MHz
    - **硬件加速**：支持 **FPU 浮点运算单元**
    - **增强型外设**：
      - **EPWM 控制器**，用于PWM输出
      - **EMMC 控制器**，便于外部存储扩展
      - ** CAN 接口 ** 可同时使用
    - **片上资源丰富**：集成存储器、定时器、ADC/DAC
    - **优秀的系统特性**：功耗低、容量大、可移植性好、Flash 擦除/编程速度快

    ### 认证与标准
    - 已通过 **中国 IEC 61508 SIL2 功能安全认证**
    - 符合 **工业级高可靠性标准**

    ### 典型应用领域
    - 航模飞机
    - 手持云台
    - 扫码枪
    - 报警器、密码锁
    - 电子秤
    - 其他工业与消费类应用

    ---

    凭借其 **高性能与高可靠性**，**SP28038 系列 MCU** 是工业控制、消费电子和物联网应用的理想选择。
introduction:
  en: "A mainstream Arm Cortex-M4 value-line MCU featuring a 140 MHz CPU and 256 KB Flash"
  zh-cn: 具有 256 KB Flash 和 140MHz CPU 的主流 Arm Cortex-M4 超值系列 MCU
modules:
  peripherals:
    CPU:
      children:
        Cortex-M4: {}
        NVIC: {}
    System:
      children:
        SYS:
          define: sp28038_sys
        DMA: {}
        XBAR: {}
        GPIO:
          define: sp28038_gpio
        WWDT: 
          define: sp28038_wwdt
        RCM:
          define: sp28038_rcm
    Analog:
      children:
        ADCC0: {}
        ADCC1: {}
        ADCC2: {}
        ADCC3: {}
        ADCC4: {}
        ADCC5: {}
        ADCC6: {}
        ADCC8: {}
        ADCC9: {}
        ADCC10: {}
        ADCC11: {}
        ADCC12: {}
        ADCC13: {}
        ADCC14: {}
    Timers:
      children:
        RTC: {}
        TMR1: {}
        TMR2: {}
        TMR3: {}
        TMR4: {}
        TMR5: {}
        TMR6: {}
        TMR7: {}
        TMR8: {}
    Connectivity:
      children:
        CAN: {}
        EMMC: {}
        I2C1: {}
        I2C2: {}
        SDIO: {}
        SPI1: {}
        SPI2: {}
        SPI3: {}
        USART1:
          define: sp28038_usart
        USART2:
          define: sp28038_usart
        USART3:
          define: sp28038_usart
        UART4:
          define: sp28038_uart
        UART5:
          define: sp28038_uart
        USBD: {}
    Multimedia:
      children:
        I2S2: {}
        I2S3: {}
    Computing:
      children:
        CRC:
          define: sp28038_crc
  middlewares: {}
package: LQFP100
url:
  en: https://global.geehy.com/product/fifth/APM32F103
  zh-cn: https://geehy.com/product/fifth/APM32F103
builders:
  XMake:
    v2.8.1: [gcc-arm-none-eabi]
  CMake:
    v3.7: [gcc-arm-none-eabi]
  MDK-Arm:
    v5.27: [default]
linker:
  defaultHeapSize: "0x200"
  defaultStackSize: "0x400"
pins:
  PA22:
    position: 1
    type: I/O
    signals:
      - EPWM1_A:Y
      - LPTIM3:Y
    modes:
      - GPIO:0
  PB0:
    position: 2
    type: I/O
    signals:
      - EPWM1_B:Y
      - LPTIM2:Y
      - OUTPUTXBAR1:Y
    modes:
      - GPIO:1
  PB1:
    position: 3
    type: I/O
    signals:
      - EPWM2_A:Y
      - LPTIM1:Y
    modes:
      - GPIO:2
  PA23:
    position: 4
    type: I/O
    signals:
      - EPWM2_B:Y
      - SPI1_SIN:Y
      - SPI1_SOUT:Y
    modes:
      - GPIO:3
  PB10:
    position: 5
    type: I/O
    signals:
      - EPWM3_A:Y
      - LPTIM0:Y
    modes:
      - GPIO:4
  PB11:
    position: 6
    type: I/O
    signals:
      - EPWM3_B:Y
    modes:
      - GPIO:5
  VDD0:
    position: 7
    type: I/O
    signals:
      - EPWM4_A:Y
      - SYNCOUT:Y
      - OUTPUTXBAR2:Y
    modes:
      - GPIO:6
  VSS50_ANA1:
    position: 8
    type: I/O
    signals:
      - EPWM4_B:Y
      - SCI1_RX:Y
    modes:
      - GPIO:7
  GND1:
    position: 9
    type: I/O
    signals:
      - EPWM5_A:Y
      - ADCSOCAO:Y
    modes:
      - GPIO:8
  XRS:
    position: 10
    type: I/O
    signals:
      - EPWM5_B:Y
      - SCI1_TX:Y
    modes:
      - GPIO:9
  PB13:
    position: 11
    type: I/O
    signals:
      - EPWM6_A:Y
      - ADCSOCBO:Y
      - CLKOUT:Y
    modes:
      - GPIO:10
  ADCINA7:
    position: 12
    type: I/O
    signals:
      - EPWM6_B:Y
      - SCI2_RX:Y
    modes:
      - GPIO:11
  PB14:
    position: 13
    type: I/O
    signals:
      - SCI2_TX:Y
      - SPI2_SIN:Y
      - OUTPUTXBAR3:Y
      - SPI2_SOUT:Y
    modes:
      - GPIO:12
  PB15:
    position: 14
    type: I/O
    signals:
      - MCAN1_CLK:Y
      - MCAN2_TX0:Y
      - SPI2_SOUT:Y
      - OUTPUTXBAR4:Y
      - SPI2_SIN:Y
    modes:
      - GPIO:13
  PB16:
    position: 15
    type: I/O
    signals:
      - SCI3_TX:Y
      - SPI2_CLK:Y
      - OUTPUTXBAR5:Y
    modes:
      - GPIO:14
  PB17:
    position: 16
    type: I/O
    signals:
      - SCI3_RX:Y
      - SPI2_CS0:Y
      - OUTPUTXBAR6:Y
      - SPI1_CS0:Y
    modes:
      - GPIO:15
  PB18:
    position: 17
    type: I/O
    signals:
      - SPI1_SIN:Y
      - SPI1_SOUT:Y
      - OUTPUTXBAR7:Y
      - SCI1_RX:Y
    modes:
      - GPIO:16
  PB19:
    position: 18
    type: I/O
    signals:
      - SPI1_SOUT:Y
      - SPI1_SIN:Y
      - OUTPUTXBAR8:Y
      - SCI1_TX:Y
    modes:
      - GPIO:17
  PB20:
    position: 19
    type: I/O
    signals:
      - SPI1_CLK:Y
      - MCAN1_CLK:Y
      - XCLKOUT:Y
      - SYNCOUT:Y
    modes:
      - GPIO:18
  ADC_VREFP:
    position: 20
    type: I/O
    signals:
      - XCLKIN:Y
      - SPI1_CS0:Y
      - SCI4_RX:Y
    modes:
      - GPIO:19
  VDDA:
    position: 21
    type: I/O
    signals:
      - EQEP1A:Y
      - OUTPUTXBAR1:Y
    modes:
      - GPIO:20
  VSSA:
    position: 22
    type: I/O
    signals:
      - EQEP1B:Y
      - COMP1OUT2:Y
      - OUTPUTXBAR2:Y
    modes:
      - GPIO:21
  ADC_VREFN:
    position: 23
    type: I/O
    signals:
      - EQEP1S:Y
      - SCI5_TX:Y
      - SPI1_CS1:Y
    modes:
      - GPIO:22
  PB27:
    position: 24
    type: I/O
    signals:
      - EQEP1I:Y
      - SCI5_RX:Y
      - SPI1_CS2:Y
    modes:
      - GPIO:23
  PB26:
    position: 25
    type: I/O
    signals:
      - SPI2_SOUT:Y
      - SPI2_SIN:Y
      - EWM_IN:Y
    modes:
      - GPIO:24
  PB25:
    position: 26
    type: I/O
    signals:
      - SPI2_SIN:Y
      - SPI2_SOUT:Y
      - SCI1_CTS:Y
      - SCI4_CTS:Y
    modes:
      - GPIO:25
  PB24:
    position: 27
    type: I/O
    signals:
      - SPI2_CLK:Y
      - SCI1_RTS:Y
      - SCI4_RTS:Y
    modes:
      - GPIO:26
  PB23:
    position: 28
    type: I/O
    signals:
      - SPI2_CS0:Y
      - I2C1_DAT:Y
    modes:
      - GPIO:27
  PB22:
    position: 29
    type: I/O
    signals:
      - SCI6_RX:Y
      - I2C2_DAT:Y
      - OUTPUTXBAR5:Y
    modes:
      - GPIO:28
  PB21:
    position: 30
    type: I/O
    signals:
      - SCI6_TX:Y
      - I2C2_CLK:Y
      - OUTPUTXBAR4:Y
      - SPI4_SIN:Y
    modes:
      - GPIO:29
  ADCINB7:
    position: 31
    type: I/O
    signals:
      - MCAN1_RX:Y
      - SD2_C4:Y
      - SPI4_SOUT:Y
    modes:
      - GPIO:30
  VREF0P8TEST:
    position: 32
    type: I/O
    signals:
      - MCAN1_TX0:Y
      - SD2_D4:Y
      - SPI4_CLK:Y
    modes:
      - GPIO:31
  PA27:
    position: 33
    type: I/O
    signals:
      - I2C1_DAT:Y
      - ADCSOCAO:Y
      - OUTPUTXBAR5:Y
      - SPI4_CS:Y
    modes:
      - GPIO:32
  PA31:
    position: 34
    type: I/O
    signals:
      - I2C1_CLK:Y
      - SYNCOUT:Y
      - ADCSOCBO:Y
      - OUTPUTXBAR6:Y
      - SCI2_CTS:Y
    modes:
      - GPIO:33
  PA30:
    position: 35
    type: I/O
    signals:
      - MCAN1_TX1:Y
      - OUTPUTXBAR7:Y
      - SCI2_RTS:Y
    modes:
      - GPIO:34
  PA29:
    position: 36
    type: I/O
    signals:
      - TDI:Y
      - SPI3_SOUT:Y
      - SPI3_SIN:Y
      - OUTPUTXBAR3:Y
    modes:
      - GPIO:35
  GND2:
    position: 37
    type: I/O
    signals:
      - TMS:Y
      - SPI1_CS3:Y
    modes:
      - GPIO:36
  VDDIO1:
    position: 38
    type: I/O
    signals:
      - TDO:Y
      - SPI3_SIN:Y
      - SPI3_SOUT:Y
      - OUTPUTXBAR4:Y
      - SYNCOUT:Y
    modes:
      - GPIO:37
  PA26:
    position: 39
    type: I/O
    signals:
      - TCK:Y
      - OUTPUTXBAR8:Y
    modes:
      - GPIO:38
  PA9:
    position: 40
    type: I/O
    signals:
      - SPI3_CS0:Y
      - SD2_C2:Y
      - I2C1_CLK:Y
      - EWM_OUT_b:Y
    modes:
      - GPIO:39
  PA28:
    position: 41
    type: I/O
    signals:
      - EPWM7_A:Y
      - SD2_D2:Y
      - EQEP2S:Y
      - SPI1_SIN:Y
    modes:
      - GPIO:40
  CP_EXT_TEST:
    position: 42
    type: I/O
    signals:
      - EPWM7_B:Y
      - SD2_C3:Y
      - EQEP2I:Y
      - SPI1_SOUT:Y
    modes:
      - GPIO:41
  PA18:
    position: 43
    type: I/O
    signals:
      - COMP1OUT1:Y
      - MCAN2_TX0:Y
      - SD2_D3:Y
      - OUTPUTXBAR1:Y
      - SPI1_CLK:Y
    modes:
      - GPIO:42
  PA17:
    position: 44
    type: I/O
    signals:
      - COMP1OUT2:Y
      - MCAN2_RX:Y
      - OUTPUTXBAR2:Y
      - SPI1_CS0:Y
    modes:
      - GPIO:43
  PA8:
    position: 45
    type: I/O
    signals:
      - SPI3_CLK:Y
      - EQEP2B:Y
      - SCI3_RTS:Y
    modes:
      - GPIO:44
  PA25:
    position: 46
    type: I/O
    signals:
      - TRST:Y
      - EQEP2A:Y
      - SCI3_CTS:Y
    modes:
      - GPIO:45
  PB12:
    position: 47
    type: I/O
    signals:
      - SD1_D1:Y
      - ADCINA6:Y
      - ADCINC14:Y
      - MCAN2_TX1:Y
    modes:
      - GPIO:46
  PA16:
    position: 48
    type: I/O
    signals:
      - MCAN2_CLK:Y
      - ADCINA5:Y
      - ADCINC13:Y
    modes:
      - GPIO:47
  PA12:
    position: 49
    type: I/O
    signals:
      - ADCINA4:Y
      - ADCINC12:Y
      - COMP2A:Y
    modes:
      - GPIO:48
  PB9:
    position: 50
    type: I/O
    signals:
      - SD1_D2:Y
      - ADCINA3:Y
      - ADCINC11:Y
    modes:
      - GPIO:49
  FLASH_VPP:
    position: 51
    type: I/O
    signals:
      - ADCINA2:Y
      - ADCINC10:Y
      - COMP1A:Y
    modes:
      - GPIO:50
  PA7:
    position: 52
    type: I/O
    signals:
      - SD1_C2:Y
      - ADCINA1:Y
      - ADCINC9:Y
    modes:
      - GPIO:51
  PA6:
    position: 53
    type: I/O
    signals:
      - SD1_C3:Y
      - ADCINA0:Y
      - ADCINC8:Y
    modes:
      - GPIO:52
  XOSC16M_OUT:
    position: 54
    type: I/O
    signals:
      - SD1_C3:Y
      - ADCINB6:Y
      - ADCINC6:Y
    modes:
      - GPIO:53
  XOSC16M_IN:
    position: 55
    type: I/O
    signals:
      - SD1_D4:Y
      - ADCINB5:Y
      - ADCINC5:Y
    modes:
      - GPIO:54
  VSS50_ANA2:
    position: 56
    type: I/O
    signals:
      - ADCINB4:Y
      - ADCINC4:Y
      - COMP2B:Y
    modes:
      - GPIO:55
  GND3:
    position: 57
    type: I/O
    signals:
      - SD1_C4:Y
      - ADCINB3:Y
      - ADCINC3:Y
    modes:
      - GPIO:56
  VDD1:
    position: 58
    type: I/O
    signals:
      - ADCINB2:Y
      - ADCINC2:Y
    modes:
      - GPIO:57
  PA19:
    position: 59
    type: I/O
    signals:
      - SD2_C1:Y
      - ADCINB1:Y
      - ADCINC1:Y
    modes:
      - GPIO:58
  PB7:
    position: 60
    type: I/O
    signals:
      - SD2_D1:Y
      - ADCINB0:Y
      - ADCINC0:Y
    modes:
      - GPIO:59
  VSS50_ANA3:
    position: 61
    type: I/O
    modes:
      - GPIO:60
  PB6:
    position: 62
    type: I/O
    modes:
      - GPIO:61
  PB5:
    position: 63
    type: I/O
    modes:
      - GPIO:62
  PB3:
    position: 64
    type: I/O
    modes:
      - GPIO:63
  PB4:
    position: 65
    type: I/O
    modes:
      - GPIO:64
  VSS50_ANA4:
    position: 66
    type: I/O
    modes:
      - GPIO:65
  VSS50_ANA5:
    position: 67
    type: I/O
    modes:
      - GPIO:66
  MPW_EXT_TEST:
    position: 68
    type: I/O
    modes:
      - GPIO:67
  PB30:
    position: 69
    type: I/O
    modes:
      - GPIO:68
  PB29:
    position: 70
    type: I/O
    modes:
      - GPIO:69
  PA11:
    position: 71
    type: I/O
    modes:
      - GPIO:70
  PA5:
    position: 72
    type: I/O
    modes:
      - GPIO:71
  PA4:
    position: 73
    type: I/O
    modes:
      - GPIO:72
  PB8:
    position: 74
    type: I/O
    modes:
      - GPIO:73
  PA10:
    position: 75
    type: I/O
    modes:
      - GPIO:74
  PA3:
    position: 76
    type: I/O
    modes:
      - GPIO:75
  PA2:
    position: 77
    type: I/O
    modes:
      - GPIO:76
  PA1:
    position: 78
    type: I/O
    modes:
      - GPIO:77
  PA0:
    position: 79
    type: I/O
    modes:
      - GPIO:78
  VDD50_ANA:
    position: 80
    type: I/O
    modes:
      - GPIO:79
  VDDIO2:
    position: 81
    type: I/O
    modes:
      - GPIO:80
  GND4:
    position: 82
    type: I/O
    modes:
      - GPIO:81
  VDD2:
    position: 83
    type: I/O
    modes:
      - GPIO:82
  PB28:
    position: 84
    type: I/O
    modes:
      - GPIO:83
  PB2:
    position: 85
    type: I/O
    modes:
      - GPIO:84
  PA15:
    position: 86
    type: I/O
    modes:
      - GPIO:85
  PA13:
    position: 87
    type: I/O
    modes:
      - GPIO:86
  PA14:
    position: 88
    type: I/O
    modes:
      - GPIO:87
  PA20:
    position: 89
    type: I/O
    modes:
      - GPIO:88
  PA21:
    position: 90
    type: I/O
    modes:
      - GPIO:89
  PA24:
    position: 91
    type: I/O
    modes:
      - GPIO:90
