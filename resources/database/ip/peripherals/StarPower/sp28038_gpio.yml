# Licensed under the Apache License v. 2 (the "License")
# You may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     https://www.apache.org/licenses/LICENSE-2.0.html
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#
# Copyright (C) 2025-2025 xqyjlj<xqyjlj@126.com>
#
# @author      xqyjlj
# @file        apm32f103_gpio.yml
#
# Change Logs:
# Date           Author       Notes
# ------------   ----------   -----------------------------------------------
# 2025-11-10     xqyjlj       initial version
#

name: GPIO
parameters:
  # 1. 设置 GPIO 方向（输入/输出）
  gpio_direction_t:
    type: enum
    values:
      input:
        comment:
          zh-cn: 输入
          en: Input
      output:
        comment:
          zh-cn: 输出
          en: Output
    default: input
    display:
      zh-cn: GPIO方向
      en: GPIO Direction
    description:
      zh-cn: 设置GPIO方向（输入/输出）
      en: Set GPIO direction (input/output)
    visible: true
    readonly: false
  
  # 2. GPIO_setPadConfig() 相关参数
  gpio_pin_type_t:
    type: enum
    values:
      push_pull:
        comment:
          zh-cn: 推挽输出
          en: Push-pull output
      open_drain:
        comment:
          zh-cn: 开漏输出
          en: Open-drain output
      pullup:
        comment:
          zh-cn: 上拉输入
          en: Pull-up input
      pulldown:
        comment:
          zh-cn: 下拉输入
          en: Pull-down input
    default: push_pull
    display:
      zh-cn: 引脚配置
      en: Pin Configuration
    description:
      zh-cn: 设置引脚配置（上拉/下拉/开漏等）
      en: Set pin configuration (pull-up/pull-down/open-drain etc.)
    visible: true
    readonly: false
  
  # 3. GPIO_setQualificationMode() 相关参数
  gpio_qualification_mode_t:
    type: enum
    values:
      sync:
        comment:
          zh-cn: 同步到SYSCLK
          en: Synchronization to SYSCLK
      three_sample:
        comment:
          zh-cn: 3样本滤波
          en: Qualified with 3 samples
      six_sample:
        comment:
          zh-cn: 6样本滤波
          en: Qualified with 6 samples
      async:
        comment:
          zh-cn: 异步
          en: No synchronization
    default: sync
    display:
      zh-cn: 输入信号滤波模式
      en: Input Signal Qualification Mode
    description:
      zh-cn: 设置输入信号滤波模式
      en: Set input signal qualification mode
    visible: true
    readonly: false

presets:
  Input:
    refParameters:
      gpio_direction_t: {}
      gpio_pin_type_t: {}
      gpio_qualification_mode_t: {}
  Output:
    refParameters:
      gpio_direction_t: {}
      gpio_pin_type_t: {}
      gpio_qualification_mode_t: {}

containers:
  overview:
    refParameters:
      gpio_direction_t: {}
      gpio_pin_type_t: {}
      gpio_qualification_mode_t: {}

activated: not is_empty(configs.GPIO)